import{_ as E,u as Q,r as _,l as J,o as K,c as d,a as t,t as l,n as g,f as m,g as w,h as O,w as k,s as Y,F as V,e as b,L as P,k as y,j as v}from"./index-C13K5DUh.js";import{L as X}from"./LineChart-Dm2_7x6z.js";import"./index-BzC3bHcO.js";const Z={class:"historical-trends-page"},tt={class:"container"},et={class:"page-title"},st={class:"insights-tabs"},at={class:"filters-section"},lt={class:"filters-container"},ot={class:"filter-group"},it=["value"],nt={class:"filter-group"},rt=["value"],ut={class:"filter-group"},dt=["value"],vt={class:"filter-group"},ct=["value"],pt={class:"filter-group"},ht=["value"],_t={class:"filter-group"},ft=["value"],gt={key:0,class:"loading-container"},mt={key:1,class:"trend-section"},yt={class:"trend-chart-container"},kt={class:"chart-header"},Yt={class:"trend-stats-container"},Vt={class:"stats-grid"},bt={class:"stat-card"},wt={class:"stat-value"},xt={class:"stat-desc"},It={class:"stat-card"},$t={class:"stat-value"},Ct={class:"stat-desc"},St={class:"stat-card"},Dt={class:"stat-value"},Ft={class:"stat-card"},Tt={class:"stat-value"},Gt={class:"stat-desc"},Mt={class:"stat-card"},Lt={class:"stat-value"},Ut={class:"stat-desc"},Bt={class:"trend-analysis-container"},Nt={class:"analysis-content"},Ht={__name:"HistoricalTrends",setup(Rt){const{t:f}=Q(),x=_(!1),a=_({country:"全球",city:"所有城市",metric:"价格指数",startYear:"2015",endYear:"2025",interval:"年"}),M=_(["全球","美国","英国","中国","日本","澳大利亚","加拿大","德国","法国"]),L=_({全球:["所有城市"],美国:["所有城市","纽约","洛杉矶","迈阿密","旧金山","芝加哥"],英国:["所有城市","伦敦","曼彻斯特","利物浦","爱丁堡","伯明翰"],中国:["所有城市","北京","上海","深圳","广州","杭州"],日本:["所有城市","东京","大阪","福冈","札幌","名古屋"],澳大利亚:["所有城市","悉尼","墨尔本","布里斯班","珀斯","阿德莱德"],加拿大:["所有城市","多伦多","温哥华","蒙特利尔","卡尔加里","渥太华"],德国:["所有城市","柏林","慕尼黑","汉堡","法兰克福","科隆"],法国:["所有城市","巴黎","里昂","马赛","波尔多","尼斯"]}),U=_(["价格指数","租金回报率","年涨幅","交易量","空置率","建筑许可"]),S=_(["2015","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025"]),B=_(["年","季度","月"]),N=J(()=>L.value[a.value.country]||["所有城市"]),D=_({legend:["价格指数 (2015=100)"],xAxis:["2015","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025"],series:[{name:"价格指数 (2015=100)",type:"line",data:[100,105,112,120,128,130,140,152,160,168,175]}]}),n=_({totalGrowth:"+75%",cagr:"+5.8%",volatility:"中等",peakYear:"2025",peakValue:"175",lowestYear:"2015",lowestValue:"100"}),H=()=>{if(x.value=!0,parseInt(a.value.startYear)>parseInt(a.value.endYear)){alert("开始年份不能大于结束年份"),x.value=!1;return}setTimeout(()=>{R(),x.value=!1},1e3)},R=()=>{const o=parseInt(a.value.startYear),e=parseInt(a.value.endYear),i=[];if(a.value.interval==="年")for(let r=o;r<=e;r++)i.push(r.toString());else if(a.value.interval==="季度")for(let r=o;r<=e;r++)for(let p=1;p<=4;p++)i.push(`${r} Q${p}`);else if(a.value.interval==="月")for(let r=o;r<=e;r++)for(let p=1;p<=12;p++)i.push(`${r}-${p.toString().padStart(2,"0")}`);let s=[],c=100,h=0;a.value.metric==="价格指数"?h=a.value.country==="中国"?8:5:a.value.metric==="租金回报率"?(c=4,h=.2):a.value.metric==="年涨幅"?(c=5,h=.5):(c=50,h=3),s=W(c,h,i.length),D.value={legend:[`${a.value.country} - ${a.value.city} - ${a.value.metric}`],xAxis:i,series:[{name:`${a.value.country} - ${a.value.city} - ${a.value.metric}`,type:"line",data:s}]},j(s,i)},W=(o,e,i)=>{const s=[o];let c=o;for(let h=1;h<i;h++){const r=.7+Math.random()*.6,p=e*r;h===5&&Math.random()>.3?c=c*.95:c=c+p,s.push(parseFloat(c.toFixed(1)))}return s},j=(o,e)=>{const i=o[0],s=o[o.length-1],c=((s-i)/i*100).toFixed(1),h=(e.length-1)/(a.value.interval==="年"?1:a.value.interval==="季度"?4:12),r=((Math.pow(s/i,1/h)-1)*100).toFixed(1);let p=o[0],F=0,I=o[0],T=0;for(let u=1;u<o.length;u++)o[u]>p&&(p=o[u],F=u),o[u]<I&&(I=o[u],T=u);let $="低";const C=[];for(let u=1;u<o.length;u++)C.push(Math.abs(o[u]-o[u-1])/o[u-1]);const G=C.reduce((u,A)=>u+A,0)/C.length;G>.05?$="高":G>.02&&($="中等"),n.value={totalGrowth:`${c>0?"+":""}${c}%`,cagr:`${r>0?"+":""}${r}%`,volatility:$,peakYear:e[F],peakValue:p.toString(),lowestYear:e[T],lowestValue:I.toString()}},q=()=>{alert("导出图表")},z=()=>{alert("导出数据为CSV")};return K(()=>{}),(o,e)=>{const i=O("router-link");return v(),d("div",Z,[t("div",tt,[t("h1",et,l(g(f)("dataInsights.historicalTrends")),1),t("div",st,[m(i,{to:"/data-insights",class:"tab"},{default:w(()=>[...e[6]||(e[6]=[y("概览",-1)])]),_:1}),m(i,{to:"/data-insights/market-reports",class:"tab"},{default:w(()=>[y(l(g(f)("dataInsights.marketReports")),1)]),_:1}),m(i,{to:"/data-insights/historical-trends",class:"tab active"},{default:w(()=>[y(l(g(f)("dataInsights.historicalTrends")),1)]),_:1}),m(i,{to:"/data-insights/interactive-charts",class:"tab"},{default:w(()=>[y(l(g(f)("dataInsights.interactiveCharts")),1)]),_:1}),m(i,{to:"/data-insights/heat-maps",class:"tab"},{default:w(()=>[y(l(g(f)("dataInsights.heatMaps")),1)]),_:1})]),t("div",at,[e[10]||(e[10]=t("h2",null,"趋势筛选",-1)),t("div",lt,[t("div",ot,[t("label",null,l(g(f)("dataInsights.filters.country")),1),k(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.country=s)},[(v(!0),d(V,null,b(M.value,s=>(v(),d("option",{key:s,value:s},l(s),9,it))),128))],512),[[Y,a.value.country]])]),t("div",nt,[t("label",null,l(g(f)("dataInsights.filters.city")),1),k(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.city=s)},[(v(!0),d(V,null,b(N.value,s=>(v(),d("option",{key:s,value:s},l(s),9,rt))),128))],512),[[Y,a.value.city]])]),t("div",ut,[t("label",null,l(g(f)("dataInsights.filters.metrics")),1),k(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.metric=s)},[(v(!0),d(V,null,b(U.value,s=>(v(),d("option",{key:s,value:s},l(s),9,dt))),128))],512),[[Y,a.value.metric]])]),t("div",vt,[e[7]||(e[7]=t("label",null,"开始年份",-1)),k(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>a.value.startYear=s)},[(v(!0),d(V,null,b(S.value,s=>(v(),d("option",{key:s,value:s},l(s),9,ct))),128))],512),[[Y,a.value.startYear]])]),t("div",pt,[e[8]||(e[8]=t("label",null,"结束年份",-1)),k(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>a.value.endYear=s)},[(v(!0),d(V,null,b(S.value,s=>(v(),d("option",{key:s,value:s},l(s),9,ht))),128))],512),[[Y,a.value.endYear]])]),t("div",_t,[e[9]||(e[9]=t("label",null,"时间间隔",-1)),k(t("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>a.value.interval=s)},[(v(!0),d(V,null,b(B.value,s=>(v(),d("option",{key:s,value:s},l(s),9,ft))),128))],512),[[Y,a.value.interval]])]),t("button",{onClick:H,class:"apply-btn"},"应用筛选")])]),x.value?(v(),d("div",gt,[m(P,{size:"large"})])):(v(),d("div",mt,[t("div",yt,[t("div",kt,[t("h2",null,l(a.value.country)+" - "+l(a.value.city)+" - "+l(a.value.metric)+" 历史趋势",1),t("div",{class:"chart-actions"},[t("button",{onClick:q,class:"action-btn"},[...e[11]||(e[11]=[t("i",{class:"fas fa-image"},null,-1),y(" 导出图表 ",-1)])]),t("button",{onClick:z,class:"action-btn"},[...e[12]||(e[12]=[t("i",{class:"fas fa-file-csv"},null,-1),y(" 导出数据 ",-1)])])])]),m(X,{chartData:D.value,height:"400px"},null,8,["chartData"])]),t("div",Yt,[e[19]||(e[19]=t("h2",null,"趋势统计",-1)),t("div",Vt,[t("div",bt,[e[13]||(e[13]=t("div",{class:"stat-title"},"总体增长",-1)),t("div",wt,l(n.value.totalGrowth),1),t("div",xt,"从"+l(a.value.startYear)+"年到"+l(a.value.endYear)+"年",1)]),t("div",It,[e[14]||(e[14]=t("div",{class:"stat-title"},"年复合增长率",-1)),t("div",$t,l(n.value.cagr),1),t("div",Ct,"从"+l(a.value.startYear)+"年到"+l(a.value.endYear)+"年",1)]),t("div",St,[e[15]||(e[15]=t("div",{class:"stat-title"},"波动性",-1)),t("div",Dt,l(n.value.volatility),1),e[16]||(e[16]=t("div",{class:"stat-desc"},"基于历史数据分析",-1))]),t("div",Ft,[e[17]||(e[17]=t("div",{class:"stat-title"},"最高点",-1)),t("div",Tt,l(n.value.peakValue),1),t("div",Gt,l(n.value.peakYear),1)]),t("div",Mt,[e[18]||(e[18]=t("div",{class:"stat-title"},"最低点",-1)),t("div",Lt,l(n.value.lowestValue),1),t("div",Ut,l(n.value.lowestYear),1)])])]),t("div",Bt,[e[20]||(e[20]=t("h2",null,"趋势分析",-1)),t("div",Nt,[t("p",null,"根据历史数据分析，"+l(a.value.country)+"的"+l(a.value.metric)+"在"+l(a.value.startYear)+"年至"+l(a.value.endYear)+"年期间总体呈现"+l(n.value.totalGrowth.startsWith("+")?"上升":"下降")+"趋势，总体增长"+l(n.value.totalGrowth)+"，年复合增长率为"+l(n.value.cagr)+"。",1),t("p",null,"市场波动性为"+l(n.value.volatility)+"，最高点出现在"+l(n.value.peakYear)+"，达到"+l(n.value.peakValue)+"；最低点出现在"+l(n.value.lowestYear)+"，为"+l(n.value.lowestValue)+"。",1),t("p",null,"这一趋势表明，"+l(a.value.country)+"的房地产市场在过去几年中表现"+l(n.value.totalGrowth.startsWith("+")?"强劲":"疲软")+"。投资者应关注市场的周期性变化和潜在的转折点，以制定合适的投资策略。",1)])])]))])])}}},zt=E(Ht,[["__scopeId","data-v-58b9955b"]]);export{zt as default};
