import{_ as B,u as G,l as x,q as M,r as u,o as N,c as n,m as D,f as m,L as V,a as t,t as s,n as r,F as C,e as $,g as F,h as R,i as S,j as o,k as T}from"./index-C13K5DUh.js";import{u as j}from"./market-FBq9vb7S.js";import{L as A}from"./LineChart-Dm2_7x6z.js";import{B as z}from"./BarChart-DDsYMMRt.js";import"./index-BzC3bHcO.js";const E={class:"city-detail-page"},O={key:0,class:"loading-container"},H={key:1,class:"container"},J={class:"city-header"},K={class:"city-image"},Q=["src","alt"],U={class:"city-header-content"},W={class:"city-key-metrics"},X={class:"metric"},Z={class:"metric-value"},tt={class:"metric-label"},et={class:"metric"},st={class:"metric-value"},at={class:"metric-label"},it={class:"metric"},lt={class:"metric-value"},nt={class:"metric-label"},ot={class:"city-description"},rt={class:"city-indicators"},ct={class:"indicators-grid"},dt={class:"indicator-card"},ut={class:"indicator-content"},mt={class:"indicator-value"},vt={class:"indicator-card"},_t={class:"indicator-content"},pt={class:"indicator-value"},ht={class:"indicator-card"},gt={class:"indicator-content"},yt={class:"indicator-value"},ft={class:"chart-section"},kt={class:"chart-container"},bt={class:"neighborhoods-section"},Yt={class:"neighborhoods-table"},Pt={class:"chart-section"},qt={class:"chart-container"},xt={key:0,class:"similar-cities-section"},Dt={class:"similar-cities-grid"},Ct=["onClick"],$t={class:"city-image"},wt=["src","alt"],It={class:"city-info"},Lt={class:"city-metrics"},Bt={class:"metric"},Gt={class:"metric-label"},Mt={class:"metric-value"},Nt={class:"metric"},Vt={class:"metric-label"},Ft={class:"metric-value"},Rt={class:"back-button"},St={__name:"CityDetail",setup(Tt){const{t:c}=G(),h=M(),g=S();j();const y=x(()=>h.params.country),f=x(()=>h.params.city),v=u(!1),i=u(null),k=u(null),b=u(null),_=u([]),Y={nyc:{id:"nyc",name:"纽约",country:"美国",image:"https://via.placeholder.com/800x400",description:"纽约是美国最大的城市，也是全球金融、商业和文化中心之一。纽约房地产市场以其高价值和多样性而闻名，从曼哈顿的豪华公寓到布鲁克林的历史建筑，提供各种投资机会。尽管价格高昂，但由于其持续的需求和有限的供应，纽约房地产长期以来一直是稳定的投资选择。",avgPrice:"$1,200/sqft",rentalYield:"3.8%",annualGrowth:"+4.2%",population:"840万",unemployment:"4.5%",medianIncome:"$75,000",neighborhoods:[{name:"曼哈顿",avgPrice:"$1,800/sqft",rentalYield:"3.2%",popularity:"高"},{name:"布鲁克林",avgPrice:"$950/sqft",rentalYield:"4.0%",popularity:"高"},{name:"皇后区",avgPrice:"$650/sqft",rentalYield:"4.5%",popularity:"中"},{name:"布朗克斯",avgPrice:"$450/sqft",rentalYield:"5.2%",popularity:"中低"}]},london:{id:"london",name:"伦敦",country:"英国",image:"https://via.placeholder.com/800x400",description:"伦敦是英国的首都和最大城市，也是欧洲最重要的金融中心之一。伦敦房地产市场以其国际化和高价值而著称，吸引了来自全球的投资者。尽管英国脱欧带来了一些不确定性，但伦敦的房地产市场仍然保持相对稳定，特别是在黄金地段的优质物业。",avgPrice:"£950/sqft",rentalYield:"3.5%",annualGrowth:"+3.8%",population:"900万",unemployment:"4.8%",medianIncome:"£39,000",neighborhoods:[{name:"威斯敏斯特",avgPrice:"£1,500/sqft",rentalYield:"3.0%",popularity:"高"},{name:"肯辛顿和切尔西",avgPrice:"£1,700/sqft",rentalYield:"2.8%",popularity:"高"},{name:"伊斯灵顿",avgPrice:"£950/sqft",rentalYield:"3.7%",popularity:"中高"},{name:"哈克尼",avgPrice:"£750/sqft",rentalYield:"4.2%",popularity:"中"}]},tokyo:{id:"tokyo",name:"东京",country:"日本",image:"https://via.placeholder.com/800x400",description:"东京是日本的首都和最大城市，也是全球最大的都市区之一。东京房地产市场以其稳定性和相对较高的租金回报率吸引了众多投资者。尽管日本面临人口老龄化的挑战，但东京作为国际大都市的地位确保了持续的住房需求，特别是在中心区域。",avgPrice:"¥1,200,000/sqm",rentalYield:"3.2%",annualGrowth:"+2.5%",population:"1,400万",unemployment:"2.8%",medianIncome:"¥6,000,000",neighborhoods:[{name:"港区",avgPrice:"¥2,000,000/sqm",rentalYield:"2.8%",popularity:"高"},{name:"涩谷区",avgPrice:"¥1,500,000/sqm",rentalYield:"3.0%",popularity:"高"},{name:"新宿区",avgPrice:"¥1,300,000/sqm",rentalYield:"3.2%",popularity:"高"},{name:"世田谷区",avgPrice:"¥950,000/sqm",rentalYield:"3.5%",popularity:"中高"}]}},w=()=>{v.value=!0,setTimeout(()=>{const l=Y[f.value];l?(i.value=l,k.value={legend:["价格指数 (2020=100)"],xAxis:["2020","2021","2022","2023","2024","2025"],series:[{name:"价格指数 (2020=100)",type:"line",data:I(100,3,8,6)}]},b.value={legend:["租金回报率 (%)"],xAxis:l.neighborhoods.map(e=>e.name),series:[{name:"租金回报率 (%)",type:"bar",data:l.neighborhoods.map(e=>parseFloat(e.rentalYield))}]},_.value=Object.values(Y).filter(e=>e.id!==f.value).slice(0,3)):g.push(`/markets/${y.value}`),v.value=!1},1e3)},I=(l,e,p,a)=>{const d=[l];let P=l;for(let q=1;q<a;q++){const L=e+Math.random()*(p-e);P+=L,d.push(Math.round(P))}return d};return N(()=>{w()}),(l,e)=>{const p=R("router-link");return o(),n("div",E,[v.value?(o(),n("div",O,[m(V,{size:"large"})])):i.value?(o(),n("div",H,[t("div",J,[t("div",K,[t("img",{src:i.value.image,alt:i.value.name},null,8,Q)]),t("div",U,[t("h1",null,s(i.value.name),1),t("h2",null,s(i.value.country),1),t("div",W,[t("div",X,[t("div",Z,s(i.value.avgPrice),1),t("div",tt,s(r(c)("markets.metrics.avgPrice")),1)]),t("div",et,[t("div",st,s(i.value.rentalYield),1),t("div",at,s(r(c)("markets.metrics.rentalYield")),1)]),t("div",it,[t("div",lt,s(i.value.annualGrowth),1),t("div",nt,s(r(c)("markets.metrics.annualGrowth")),1)])])])]),t("div",ot,[t("p",null,s(i.value.description),1)]),t("div",rt,[e[6]||(e[6]=t("h2",null,"城市指标",-1)),t("div",ct,[t("div",dt,[e[1]||(e[1]=t("div",{class:"indicator-icon"},[t("i",{class:"fas fa-users"})],-1)),t("div",ut,[t("div",mt,s(i.value.population),1),e[0]||(e[0]=t("div",{class:"indicator-label"},"人口",-1))])]),t("div",vt,[e[3]||(e[3]=t("div",{class:"indicator-icon"},[t("i",{class:"fas fa-briefcase"})],-1)),t("div",_t,[t("div",pt,s(i.value.unemployment),1),e[2]||(e[2]=t("div",{class:"indicator-label"},"失业率",-1))])]),t("div",ht,[e[5]||(e[5]=t("div",{class:"indicator-icon"},[t("i",{class:"fas fa-money-bill-wave"})],-1)),t("div",gt,[t("div",yt,s(i.value.medianIncome),1),e[4]||(e[4]=t("div",{class:"indicator-label"},"中位收入",-1))])])])]),t("div",ft,[e[7]||(e[7]=t("h2",null,"房价趋势 (2020-2025)",-1)),t("div",kt,[m(A,{chartData:k.value,height:"350px"},null,8,["chartData"])])]),t("div",bt,[e[9]||(e[9]=t("h2",null,"主要社区",-1)),t("div",Yt,[t("table",null,[e[8]||(e[8]=t("thead",null,[t("tr",null,[t("th",null,"社区"),t("th",null,"平均价格"),t("th",null,"租金回报率"),t("th",null,"受欢迎程度")])],-1)),t("tbody",null,[(o(!0),n(C,null,$(i.value.neighborhoods,(a,d)=>(o(),n("tr",{key:d},[t("td",null,s(a.name),1),t("td",null,s(a.avgPrice),1),t("td",null,s(a.rentalYield),1),t("td",null,s(a.popularity),1)]))),128))])])])]),t("div",Pt,[e[10]||(e[10]=t("h2",null,"社区租金回报率对比",-1)),t("div",qt,[m(z,{chartData:b.value,height:"350px"},null,8,["chartData"])])]),_.value.length>0?(o(),n("div",xt,[e[11]||(e[11]=t("h2",null,"相似城市",-1)),t("div",Dt,[(o(!0),n(C,null,$(_.value,a=>(o(),n("div",{key:a.id,class:"city-card",onClick:d=>r(g).push(`/markets/${a.country.toLowerCase()}/${a.id}`)},[t("div",$t,[t("img",{src:a.image,alt:a.name},null,8,wt)]),t("div",It,[t("h3",null,s(a.name),1),t("p",null,s(a.country),1),t("div",Lt,[t("div",Bt,[t("span",Gt,s(r(c)("markets.metrics.avgPrice"))+":",1),t("span",Mt,s(a.avgPrice),1)]),t("div",Nt,[t("span",Vt,s(r(c)("markets.metrics.rentalYield"))+":",1),t("span",Ft,s(a.rentalYield),1)])])])],8,Ct))),128))])])):D("",!0),t("div",Rt,[m(p,{to:`/markets/${y.value}`,class:"btn"},{default:F(()=>[...e[12]||(e[12]=[t("i",{class:"fas fa-arrow-left"},null,-1),T(" 返回国家页面 ",-1)])]),_:1},8,["to"])])])):D("",!0)])}}},Ht=B(St,[["__scopeId","data-v-484c585b"]]);export{Ht as default};
